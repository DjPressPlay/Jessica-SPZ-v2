:root{
  --frame-color:#e63946;
  --frame-outer:#000;
  --text:#fff;
  accent-color: var(--frame-color);
}

/* global hygiene */
*,
*::before,
*::after{ box-sizing:border-box; }
img{ display:block; max-width:100%; }

/* ===== Frame ===== */
.frameType{
  position:relative; overflow:hidden;
  border:12px solid var(--frame-outer);
  border-radius:14px;
}
.frameType-inner{
  position:relative; overflow:hidden;
  border:6px solid var(--frame-color);
  border-radius:10px;
  isolation:isolate;               /* keeps holo effects contained */
}
.frameType-inner::before{
  content:""; position:absolute; inset:0;
  background:radial-gradient(120% 100% at 50% 0%, #1e1e1e 0%, #0e0e0e 65%, #111 100%);
  z-index:0;
}

/* ================= Header ================= */
.card-header{
  display:grid;
  grid-template-columns: auto minmax(0,1fr) auto; /* ID | (true) NAME | ICON */
  align-items:center;
  gap:8px;
  background:#000;
  padding:6px 10px;
  font-size:.9rem;
  font-weight:800;
  text-transform:uppercase;
  border-bottom:2px solid var(--frame-color);
  border-top-left-radius:8px;
  border-top-right-radius:8px;
  min-height:34px; /* prevents vertical bounce on autoshrink */
}

/* ID box */
.card-id{
  background:#fff; color:#000;
  padding:2px 6px;
  border-radius:4px;
  font-size:.75rem; font-weight:800;
  white-space:nowrap;
}

/* Name (center cell, autoshrinks via JS — no clipping) */
.card-name{
  min-width:0;
  display:flex; justify-content:center; align-items:center;
  text-align:center;
}
.card-name span{
  display:inline-block;
  max-width:100%;
  white-space:nowrap;
  overflow:visible;       /* no clipping */
  text-overflow:unset;    /* no ellipsis */
  line-height:1;
  letter-spacing:.02em;

  /* IMPORTANT: JS controls font-size; do not scale-transform here */
  transform:none;
  will-change: font-size;
}

/* Icon/emoji (right cell) */
.card-icon{
  font-size:1.1rem;
  text-align:right;
  min-width:1.5em;
}

/* ===== Artwork (ensure consistent box if missing elsewhere) ===== */
.card-art{
  position:relative;
  margin:10px;
  aspect-ratio:4/3;
  background:#222;
  border:3px solid var(--frame-color);
  border-radius:8px;
  overflow:hidden;
}

/* ===== Stat orbs ===== */
.stat-orb{
  position:absolute;
  width:clamp(46px, 12vw, 54px);
  height:clamp(46px, 12vw, 54px);
  border-radius:50%;
  font-weight:800;
  font-size:clamp(.9rem, 2.6vw, 1.02rem);
  display:flex; align-items:center; justify-content:center;
  border:3px solid #fff;
  box-shadow:0 2px 8px rgba(0,0,0,.4);
  font-variant-numeric: tabular-nums; /* prevents odd spacing like “3 000” */
}
.stat-blue  { background:#3498db; top:6px;  left:6px; }
.stat-red   { background:#e63946; bottom:6px; left:6px; }
.stat-green { background:#2ecc71; bottom:6px; right:6px; }

/* ===== Type Banner (3 containers, truly centered ABOUT) ===== */
.type-banner{
  background:#000; color:#fff; padding:6px 10px; font-weight:800;
  border-top:2px solid var(--frame-color); border-bottom:2px solid var(--frame-color);
  display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px;
}
.type-cell{ display:flex; justify-content:center; align-items:center; min-width:0; }
.type-about-wrap{ display:flex; justify-content:center; align-items:center; min-width:0; }
.type-about-box{
  display:inline-flex; align-items:center; justify-content:center;
  padding:4px 12px; border:2px solid var(--frame-color); border-radius:6px;
  background:#0b0b0b; box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);
  max-width:100%;
}
.type-about-text{
  font-size:.95rem; letter-spacing:.02em;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  max-width:clamp(180px, 60%, 280px);
}
@media (max-width:480px){
  .type-about-text{ max-width:clamp(150px, 52vw, 220px); }
}

/* one-line helpers + autoscale (used for tribute/about/emoji only) */
.truncate{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; max-width:100%; }
.autoscale{
  display:inline-block;
  transform:scale(var(--scale,1));
  transform-origin:center center;
  line-height:1;
  will-change: transform;
}

/* ===== Effects ===== */
.effect-entry{ border:1px solid #2a2a2a; background:#0f0f0f; border-radius:8px; }
.effect-text { font-size:.86rem; }

/* ===== Sets/Tags (single bracket, single line rows) ===== */
.meta-block{
  border-top:2px solid var(--frame-color);
  border-bottom:2px solid var(--frame-color);
  background:#000;
  padding:8px 10px;
  display:flex; flex-direction:column; gap:6px;
}
.meta-line{
  display:flex; gap:8px; align-items:center;
  font-size:.78rem; color:#ccc;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}
.meta-label{
  font-weight:800; text-transform:uppercase; color:#eee; letter-spacing:.02em;
}
.meta-value{ flex:1; min-width:0; opacity:.95; }

/* ===== Unified bottom bar ===== */
.meta-bottom{
  position:relative;
  border-top:2px solid var(--frame-color);
  background:#111;
  padding:10px 12px 32px; /* space for rarity capsule */
  text-align:center; color:#ccc;
}
.meta-footer-text{ font-size:.72rem; color:#cfcfcf; line-height:1.25; }
.meta-timestamp  { margin-top:4px; font-size:.66rem; color:#9f9f9f; }

/* Rarity capsule */
.meta-bottom .rarity{
  position:absolute; right:10px; bottom:6px;
  font-weight:800; letter-spacing:.02em;
  border:1px solid rgba(255,255,255,.2); padding:2px 8px; border-radius:4px;
}
.rarity.SR{ background:#2d7bdc; }
.rarity.UR{ background:#7c3aed; }
.rarity.Q { background:#f1c40f; color:#111; }
.rarity.ZEOE{
  color:#fff;
  background:conic-gradient(from 0deg, #ff0040, #ffd200, #00ffcc, #00a2ff, #ff4dff, #ff0040);
  background-size:200% 200%;
  animation:holoShift 6s linear infinite;
  border:1px solid rgba(255,255,255,.35);
  text-shadow:0 0 6px rgba(255,255,255,.35);
}
@keyframes holoShift{ 0%{background-position:0% 50%} 100%{background-position:200% 50%} }
@media (prefers-reduced-motion: reduce){
  .rarity.ZEOE{ animation:none; }
}
